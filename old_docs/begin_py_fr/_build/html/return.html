<!DOCTYPE html>


<html>
  <head>
    <meta charset="utf-8">
    
    <title>34. return &mdash; Apprenez Python avec Reeborg</title>
    
    <link rel="stylesheet" href="_static/reeborg.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Apprenez Python avec Reeborg" href="index.html" />
    <link rel="next" title="35. Le journal de Reeborg" href="diary.html" />
    <link rel="prev" title="33. Compter sur la récursivité" href="recursion4.html" /> 

  <script>
    // intelligent scrolling of the sidebar content
    // copied from the sphinx website
    $(window).scroll(function() {
    var sb = $('.sphinxsidebarwrapper');
    var win = $(window);
    var sbh = sb.height();
    var offset = $('.sphinxsidebar').position()['top'];
    var wintop = win.scrollTop();
    var winbot = wintop + win.innerHeight();
    var curtop = sb.position()['top'];
    var curbot = curtop + sbh;
    // does sidebar fit in window?
    if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
              sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
              sb.css('top', $u.min([winbot - sbh - offset - 20,
                            $(document).height() - sbh - 200]));
          }
        }
    });
    </script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
             <a href="diary.html" title="35. Le journal de Reeborg"
             accesskey="N">suivant</a></li>
        <li class="right" >
             <a href="recursion4.html" title="33. Compter sur la récursivité"
             accesskey="P">précédent</a> |</li>
        <li><a class="logo" href="../../index_en.html" class="fake_button">
              <img class="logo"  src="_static/robot_e.png" alt="Logo"/>Le monde de Reeborg
            </a></li>
        <li><a href="index.html">Apprenez Python avec Reeborg</a></li> 
      </ul>
    </div>
  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
              <h3>Table des Matières</h3>
              <ul>
<li><a class="reference internal" href="#">34. return</a><ul>
<li><a class="reference internal" href="#obtenir-des-resultats-de-fonctions">34.1. Obtenir des résultats de fonctions</a></li>
<li><a class="reference internal" href="#comment-penser-a-return">34.2. Comment penser à return</a></li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="recursion4.html"
                        title="Chapitre précédent">33. Compter sur la récursivité</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="diary.html"
                        title="Chapitre suivant">35. Le journal de Reeborg</a></p>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/return.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none">
  <h3>Recherche rapide</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="return">
<h1>34. return<a class="headerlink" href="#return" title="Lien permanent vers ce titre">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Le nord est vers le haut de l&#8217;écran; l&#8217;est est vers la droite, l&#8217;ouest
vers la gauche et le sud vers le bas.</p>
</div>
<p>Comme vous le savez, Reeborg n&#8217;est pas parfaitement opérationnel. Il
peut seulement tourner à gauche, il a une fuite d&#8217;huile, et il peut voir
s&#8217;il y a un mur devant lui ou tout juste à sa droite, mais pas à sa
gauche; de plus, il ne voit les jetons que lorsqu&#8217;il est littéralement
au-dessus d&#8217;eux. Reeborg a également une boussole qui fonctionne plus ou
moins bien: il peut déterminer s&#8217;il fait face au nord ... ou non; pas
moyen d&#8217;obtenir d&#8217;autre information au sujet de son orientation. Pour
déterminer s&#8217;il fait face au nord, vous pouvez demander à Reeborg de
faire le test <code class="docutils literal"><span class="pre">face_au_nord()</span></code>.</p>
<div class="topic">
<p class="topic-title first">Orientez Reeborg!</p>
<p>Sélectionnez un monde approprié et écrivez un court programme qui fera
en sorte que Reeborg tourne vers la gauche jusqu&#8217;à ce qu&#8217;il soit face au
nord, quelque soit son orientation de départ.</p>
</div>
<div class="section" id="obtenir-des-resultats-de-fonctions">
<h2>34.1. Obtenir des résultats de fonctions<a class="headerlink" href="#obtenir-des-resultats-de-fonctions" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les tests comme <code class="docutils literal"><span class="pre">face_au_nord()</span></code> sont des fonctions Python. Ces
fonctions diffèrent des autres fonctions telles que
<code class="docutils literal"><span class="pre">tourne_a_gauche()</span></code> ou <code class="docutils literal"><span class="pre">avance()</span></code> car elles <strong>*retournent*</strong> une
valeur, utilisant le mot-clé <code class="docutils literal"><span class="pre">return</span></code>. Commençons par un exemple
simple et faites en sorte que Reeborg exécute le programme suivant.</p>
<div class="code py3 highlight-py3"><div class="highlight"><pre><span class="k">def</span> <span class="nf">interruption</span><span class="p">():</span>
    <span class="n">avance</span><span class="p">()</span>
    <span class="k">return</span>
    <span class="n">avance</span><span class="p">()</span>

<span class="n">interruption</span><span class="p">()</span>
</pre></div>
</div>
<p>Le second <code class="docutils literal"><span class="pre">avance()</span></code> n&#8217;est pas exécuté: l&#8217;exécution de la fonction termine lorsque
l&#8217;énoncé contenant le mot-clé <code class="docutils literal"><span class="pre">return;</span></code> est exécuté.</p>
<p>Le mot-clé <code class="docutils literal"><span class="pre">return</span></code> peut être accompagné de quelque chose d&#8217;autre
comme l&#8217;exemple suivant le démontre.</p>
<div class="topic">
<p class="topic-title first">Essayez ceci!</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="k">def</span> <span class="nf">nord</span><span class="p">():</span>
   <span class="k">return</span> <span class="n">face_au_nord</span><span class="p">()</span>

<span class="k">while</span> <span class="ow">not</span> <span class="n">nord</span><span class="p">():</span>
    <span class="n">tourne_a_gauche</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Lorsque vous exécuterez ce programme, vous verrez que la fonction
<code class="docutils literal"><span class="pre">nord()</span></code> donne exactement le même résultat que si vous utilisiez
directement <code class="docutils literal"><span class="pre">face_au_nord()</span></code>; ceci est le résultat de l&#8217;utilisation de
l&#8217;énoncé <code class="docutils literal"><span class="pre">return</span></code>. Nous pouvons utiliser ce résultat pour permettre à
Reeborg d&#8217;identifier d&#8217;autres orientations que le nord (et réparer sa
boussole). Tout d&#8217;abord, nous savons que si Reeborg tourne 4 fois à
gauche, il reviendra à son orientation de départ: nous voulons garantir
que l&#8217;orientation de Reeborg à la fin du test sera la même qu&#8217;au début.</p>
<p>Supposons que nous voulons savoir si Reeborg fait face au sud. Nous
pouvons lui demander de tourner à gauche deux fois et noter si son
orientation est face au nord (et donc qu&#8217;il était face au sud avant de
tourner) ou non, et de tourner deux fois à gauche de nouveau. Utilisant
le mot-clé <code class="docutils literal"><span class="pre">return</span></code>, Reeborg peut indiquer le résultat qu&#8217;il avait
noté après deux tours à gauche.</p>
<div class="code py3 highlight-py3"><div class="highlight"><pre><span class="k">def</span> <span class="nf">face_au_sud</span><span class="p">():</span>
    <span class="n">tourne_a_gauche</span><span class="p">()</span>
    <span class="n">tourne_a_gauche</span><span class="p">()</span>
    <span class="n">orientation</span> <span class="o">=</span> <span class="n">face_au_nord</span><span class="p">()</span>
    <span class="n">tourne_a_gauche</span><span class="p">()</span>
    <span class="n">tourne_a_gauche</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">orientation</span>


<span class="c"># on oriente Reeborg pour qu&#39;il soit face au sud comme test</span>
<span class="k">while</span> <span class="ow">not</span> <span class="n">face_au_sud</span><span class="p">():</span>
    <span class="n">tourne_a_gauche</span><span class="p">()</span>
</pre></div>
</div>
<div class="topic">
<p class="topic-title first">À votre tour!</p>
<p>Vérifiez que ceci fonctionne!</p>
</div>
<p>Ceci fonctionne ... mais, dépendant de l&#8217;orientation initiale de
Reeborg, vous pourriez devenir étourdi à le voir tourner: lorsque son
orientation initiale n&#8217;est pas face au sud, pour chaque virage à gauche
qu&#8217;il doit faire pour <em>changer</em>, il doit en faire 4 pour <em>déterminer</em>
son orientation.</p>
<p>Plus tard, en examinant le code source de Reeborg, nous pourrons trouver
une façon beaucoup plus directe, et moins étourdissante, de déterminer
son orientation.</p>
<div class="topic">
<p class="topic-title first">Mini-quiz</p>
<p>Écrivez un programme faisant en sorte que Reeborg soit orienté face à
l&#8217;ouest, peu importe son orientation initiale. Vérifiez la validité de
votre programme en commençant par quelques virages à gauche, pour tester
différentes orientations initiales de Reeborg.</p>
</div>
</div>
<div class="section" id="comment-penser-a-return">
<h2>34.2. Comment penser à return<a class="headerlink" href="#comment-penser-a-return" title="Lien permanent vers ce titre">¶</a></h2>
<p>Supposons que nous ayons le code suivant:</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="k">def</span> <span class="nf">fonction_quelconque</span><span class="p">():</span>
    <span class="o">...</span>
    <span class="k">return</span> <span class="n">quelque_chose</span>

<span class="o">...</span> <span class="o">=</span> <span class="n">fonction_quelconque</span><span class="p">()</span>
</pre></div>
</div>
<p>Dans ce cas, l&#8217;invocation de <code class="docutils literal"><span class="pre">fonction_quelconque()</span></code> à la dernière
ligne sera remplacée par la valeur de <code class="docutils literal"><span class="pre">quelque_chose</span></code> qui est la
variable suivant le mot-clé <code class="docutils literal"><span class="pre">return</span></code>. S&#8217;il n&#8217;y a rien après
<code class="docutils literal"><span class="pre">return</span></code>, alors le résultat est <code class="docutils literal"><span class="pre">None</span></code> (non défini).</p>
<div class="topic">
<p class="topic-title first">Encore des retours</p>
<p>Reeborg peut déterminer s&#8217;il y a un mur devant lui, utilisant
<code class="docutils literal"><span class="pre">rien_devant()</span></code>, ou s&#8217;il y a un mur à sa droit en utilisant
<code class="docutils literal"><span class="pre">rien_a_droite()</span></code>. Écrivez une fonction test qui fera en sorte
que Reeborg fera 4 virages à gauches, et donc retournera à son
orientation de départ, mais qui retournera <code class="docutils literal"><span class="pre">True</span></code> s&#8217;il
n&#8217;y a <strong>pas</strong> de mur à sa gauche.</p>
</div>
<div class="topic">
<p class="topic-title first">Défis!</p>
<p>Utilisez la fonction test que vous avez écrite pour permettre à Reeborg
de trouver la sortie des mondes <strong>Labyrinthe 1</strong> et <strong>Labyrinthe 2</strong>
en suivant le mur du côté <strong>gauche</strong> plutôt que le mur du côté droit
comme on l&#8217;avait vu avant.  Ensuite, faites la même chose pour
<strong>Tempête 1</strong> et <strong>Tempête 2</strong>, c&#8217;est-à-dire en ayant Reeborg faire le
tour de la maison dans une direction opposée à la solution que vous
aviez trouvée avant.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>  
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
             <a href="diary.html" title="35. Le journal de Reeborg"
             >suivant</a></li>
        <li class="right" >
             <a href="recursion4.html" title="33. Compter sur la récursivité"
             >précédent</a> |</li>
        <li><a class="logo" href="../../index_en.html" class="fake_button">
              <img class="logo"  src="_static/robot_e.png" alt="Logo"/>Le monde de Reeborg
            </a></li>
        <li><a href="index.html">Apprenez Python avec Reeborg</a></li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright
          <a href="mailto:andre.roberge@gmail.com">André Roberge </a>
        
       - Créé en utilisant <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  <script>
  $(document).ready(function() {
      $('.hint').children().hide();
      $('.hint p.admonition-title').show().css('cursor', 'pointer');
      $('.hint p.admonition-title').click( function() {$(this).siblings().show().css('cursor', 'auto');})

      $('.admonition-pour-les-enseignants').children().hide();
      $('.admonition-pour-les-enseignants p.admonition-title').show().css('cursor', 'pointer');
      $('.admonition-pour-les-enseignants p.admonition-title').click( function() {$(this).siblings().show().css('cursor', 'auto');})
      $( 'a[href^="http://"]' ).attr( 'target','_blank' )
  });
  </script>
  </body>
</html>