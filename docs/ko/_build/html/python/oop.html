<!DOCTYPE html>


<html>
  <head>
    <meta charset="utf-8">
    
    <title>6. 객체지향 프로그래밍 &mdash; Learn Python with Reeborg</title>
    
    <link rel="stylesheet" href="../_static/reeborg.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Learn Python with Reeborg" href="../index.html" />
    <link rel="up" title="파이썬: 개요" href="index.html" />
    <link rel="next" title="Contribute!" href="../contribute/index.html" />
    <link rel="prev" title="5. 고급 프로그래밍" href="advanced.html" /> 

  <script>
    // intelligent scrolling of the sidebar content
    // copied from the sphinx website
    $(window).scroll(function() {
    var sb = $('.sphinxsidebarwrapper');
    var win = $(window);
    var sbh = sb.height();
    var offset = $('.sphinxsidebar').position()['top'];
    var wintop = win.scrollTop();
    var winbot = wintop + win.innerHeight();
    var curtop = sb.position()['top'];
    var curbot = curtop + sbh;
    // does sidebar fit in window?
    if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
              sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
              sb.css('top', $u.min([winbot - sbh - offset - 20,
                            $(document).height() - sbh - 200]));
          }
        }
    });
    </script>
    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-59802572-14', 'auto');
      ga('send', 'pageview');

    </script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
             <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
             <a href="../contribute/index.html" title="Contribute!"
             accesskey="N">next</a> |</li>
        <li class="right" >
             <a href="advanced.html" title="5. 고급 프로그래밍"
             accesskey="P">previous</a> |</li>
        <li><a class="logo" href="../../index_en.html" class="fake_button">
              <img class="logo"  src="../_static/robot_e.png" alt="Logo"/>
              <span class="logo">Reeborg's World</span>
            </a></li>
        <li><a href="../index.html">Learn Python with Reeborg</a></li>
          <li> &raquo;<a href="index.html" accesskey="U">파이썬: 개요</a></li> 
      </ul>
    </div>
  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
              <h3>Table Of Contents</h3>
              <ul>
<li><a class="reference internal" href="#">6. 객체지향 프로그래밍</a><ul>
<li><a class="reference internal" href="#id2">6.1. 객체지향 프로그래밍</a></li>
<li><a class="reference internal" href="#id3">6.2. 로봇 다수</a></li>
<li><a class="reference internal" href="#id4">6.3. 신형 로봇</a></li>
<li><a class="reference internal" href="#id5">6.4. 신형 로봇을 설계하는데 필요한 네가지 재료</a></li>
<li><a class="reference internal" href="#id6">6.5. 기름 누수 고치기</a></li>
<li><a class="reference internal" href="#id7">6.6. 남쪽 지향하기</a></li>
<li><a class="reference internal" href="#id8">6.7. 코드 탐색하기</a></li>
<li><a class="reference internal" href="#id9">6.8. 자바스크립트 !??</a></li>
<li><a class="reference internal" href="#move">6.9. 한번 이동 <code class="docutils literal"><span class="pre">move()</span></code> 에 관해서</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="advanced.html"
                        title="previous chapter">5. 고급 프로그래밍</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../contribute/index.html"
                        title="next chapter">Contribute!</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/python/oop.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<h4><a href="../../fr/python/oop.html">Version française</a></h4>
        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
      <div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This document is in the middle of a major revision.
Some sections might be missing text, or have French text
as placeholder.</p>
</div>
          <div class="body">
            
  <div class="section" id="id1">
<h1>6. 객체지향 프로그래밍<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">이번 학습의 목적이 객체지향 프로그램(Object-Oriented Programming)을
가르치는 것이 아니라, 리보그 세상에서 객체지향 프로그래밍을 사용해서
어떤 작업을 수행할 수 있는지 단순히 암시하는데 있다.</p>
</div>
<div class="section" id="id2">
<h2>6.1. 객체지향 프로그래밍<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>빈 세상에서 출발한다고 가정하자.
표준위치(x=1, y=1)에서 동쪽을 향한 로봇을 생성하고 나서,
다음 프로그램처럼 한발짝 앞으로 나가게 한다:</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="n">reeborg</span> <span class="o">=</span> <span class="n">UsedRobot</span><span class="p">()</span>
<span class="n">reeborg</span><span class="o">.</span><span class="n">move</span><span class="p">()</span>
</pre></div>
</div>
<p>리보그를 소개할 때 처음에 언급한 것이 설명되어 있다:
기름이 새고 여러 곳이 망가져 있다.
중고 <code class="docutils literal"><span class="pre">UsedRobot</span></code> 으로 신상 <code class="docutils literal"><span class="pre">NewShinyRobot</span></code> 로봇이 아니라는 점이 전혀 놀랍지 않다.</p>
<p>이제, 리보그를 다른 지점에서 출발시키고, 다른 방향을 향하고 있고...
아마도 (다른 객체는 아니고) 일부 토큰을 지니게 한다. 다음 프로그램을 실행해 본다:</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="n">reeborg</span> <span class="o">=</span> <span class="n">UsedRobot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="k">while</span> <span class="n">reeborg</span><span class="o">.</span><span class="n">carries_object</span><span class="p">(</span><span class="s">&quot;token&quot;</span><span class="p">):</span>
    <span class="n">put</span><span class="p">()</span>
<span class="n">reeborg</span><span class="o">.</span><span class="n">turn_left</span><span class="p">()</span>
<span class="n">reeborg</span><span class="o">.</span><span class="n">move</span><span class="p">()</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">'w'</span></code> 대신에, <code class="docutils literal"><span class="pre">'e'</span></code>, <code class="docutils literal"><span class="pre">'s'</span></code>, <code class="docutils literal"><span class="pre">'n'</span></code> 을 시도해 볼 수도 있다.
어떤 의미인지는 충분히 유추할 것으로 확신한다.</p>
</div>
<div class="section" id="id3">
<h2>6.2. 로봇 다수<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>다른 색다른 것을 시도할 시간이다.
그런데, 이번 학습에는 그림이 하나도 없다는 것을 알아챘을 것이다.
의도적으로 그런 것이다: 저자는 여러분이 색다른 것을 시도하고, 색다른 것을 시도할 것에 대한
지침만 제시할 뿐이다.</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="n">reeborg</span> <span class="o">=</span> <span class="n">UsedRobot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">reeborg</span><span class="o">.</span><span class="n">set_model</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>                 <span class="c"># 오리지날 로봇! :-)</span>
<span class="k">while</span> <span class="n">reeborg</span><span class="o">.</span><span class="n">carries_object</span><span class="p">(</span><span class="s">&quot;token&quot;</span><span class="p">):</span>
    <span class="n">put</span><span class="p">()</span>
<span class="n">reeborg</span><span class="o">.</span><span class="n">turn_left</span><span class="p">()</span>
<span class="n">reeborg</span><span class="o">.</span><span class="n">move</span><span class="p">()</span>

<span class="n">karel</span> <span class="o">=</span> <span class="n">UsedRobot</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s">&#39;n&#39;</span><span class="p">)</span>
<span class="n">karel</span><span class="o">.</span><span class="n">set_model</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">karel</span><span class="o">.</span><span class="n">turn_left</span><span class="p">()</span>
<span class="n">karel</span><span class="o">.</span><span class="n">move</span><span class="p">()</span>

<span class="c"># 이제 놀랄 시간!</span>
<span class="n">move</span><span class="p">()</span>
</pre></div>
</div>
<p>마지막 <code class="docutils literal"><span class="pre">move()</span></code> 명령어에 주목?
어떤 로봇이 이동하는지 주목한다.
마지막에 저자가 설명할 것이다 - 그때까지 여전히 관심이 있다면 말이다.</p>
</div>
<div class="section" id="id4">
<h2>6.3. 신형 로봇<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>다음 코드를 돌려본다:</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="k">class</span> <span class="nc">BetterRobot</span><span class="p">(</span><span class="n">UsedRobot</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">turn_right</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">turn_left</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">turn_left</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">turn_left</span><span class="p">()</span>

<span class="n">reeborg</span> <span class="o">=</span> <span class="n">BetterRobot</span><span class="p">()</span>
<span class="n">reeborg</span><span class="o">.</span><span class="n">turn_right</span><span class="p">()</span>
</pre></div>
</div>
<p>지금까지 좋다... 하지만 그다지 향상되지는 않았다. 더욱 잘 할 수 있다.</p>
</div>
<div class="section" id="id5">
<h2>6.4. 신형 로봇을 설계하는데 필요한 네가지 재료<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>리보그가 왼쪽으로 회전하는 것만큼 오른쪽 회전을 하는데 필요한 코드를 보여주기 전에,
리보그 세상에 대한 세가지 다른 구현방식을 설명할 필요가 있다.</p>
<p>먼저, 로봇이 명령어를 실행하는 것을 보면, 프로그램은 이미 오래전에 실행을 마쳤다.
특정한 동작이 수행될 때, 전체 세상을 기록하는 작업이 <strong>화면에 어떤 것도 표시되지 않고</strong>
수행된다. 프로그램이 실행을 마치게 되면, 기록된 것이 재생되어
애니메이션으로 사용자에게 보여지게 된다.
따라서, 새로운 명령어를 설계할 때, 세상 상태정보를 기록하고, 단지 한번 수행할 필요가 있다.
그래서 명령어가 우회전이 세번 왼쪽으로 회전하는 것이 아니라,
단일 절차로 수행되는 것으로 보이게 된다.</p>
<p>둘째로, 기름이 세는 것이 화면에 나타날 때,
한 지점에서 다른 지점으로 두 지점을 연결한 직선으로 그려지게 된다.
리보그가 회전 한번 혹은 3번 회전할 때 이러한 방식으로 그려진 선을 보게된다.
만약 한걸음 뒤로 물러서게 되면, 리보그 이동방향에 따라 약간 다른 지점에 직선이 그려지게 된다.</p>
<p>세째로... 작은 이야기를 들여주고 나서, 실제 설명을 할 것이다.</p>
<p>리보그는 머리와 몸통을 갖추고 있다.
머리 방향에 관해서 얘기를 하는 것은 그다지 의미가 없다...
하지만, 몸통에 대해서는 방향이 의미가 있다.
따라서, 몸통에 <code class="docutils literal"><span class="pre">지향</span> <span class="pre">방향(orientation)</span></code> 뿐만 아니라
<code class="docutils literal"><span class="pre">x</span></code> 와 <code class="docutils literal"><span class="pre">y</span></code> 같은 좌표를 할당될 수 있다.
객체지향 표기법으로, 다음과 같이 지칭할 수 있다:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">x</span>
<span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">y</span>
<span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">orientation</span>
</pre></div>
</div>
<p>일반적인 표기법 대신에</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">x</span>
<span class="bp">self</span><span class="o">.</span><span class="n">y</span>
<span class="bp">self</span><span class="o">.</span><span class="n">orientation</span>
</pre></div>
</div>
<p>이제, 멋진 이야기가 되었다.
파이썬 객체지향 프로그래밍에 친숙하다면, 아마도 이런 것이
훨씬 불필요하게 복잡하다고 느낄 수도 있다.</p>
<p>실제 설명은 훨씬 더 복작하고, 여러분을 졸립게 할 수 있지만, 간략하게는 다음과 같다.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">파이썬 프로그래머가 <code class="docutils literal"><span class="pre">_prev_x</span></code> 처럼 밑줄로 시작되는 변수명을 사용하는 관례가 있다.
밑줄로 시작되는 변수는 &#8220;비공개(private)&#8221; 변수로 다른 프로그래머에 의해 일반적으로 변경될 수 않음을 나타낸다.</p>
</div>
<p>리보그 코드는 먼저 자바스크립트로 작성되었다.
그래서 자바스크립트를 사용해서
파이썬을 사용해서 프로그램을 작성할 수 있는 것처럼,
리보그 프로그램을 작성할 수 있다.</p>
<p>Brython을 사용해서, 저자는 자바스크립트 &#8220;백엔드(backend)&#8221;로
의사소통하는 클래스를 작성했다.
두번째 방식(<code class="docutils literal"><span class="pre">self.body.x</span></code> 대신에 <code class="docutils literal"><span class="pre">self.x</span></code>)으로 코드를 작성하게 되면,
<code class="docutils literal"><span class="pre">move()</span></code> 함수에 대해서 <code class="docutils literal"><span class="pre">self.x</span></code> 값을 변경하게 될 때...
<code class="docutils literal"><span class="pre">self.x</span></code> 가 지칭하는 객체는 더이상 로봇의 좌표가 아니라 정수 좌표가 된다.</p>
<p>하지만, 저자가 작성한 방식으로 코드를 작성하게 되면,
<code class="docutils literal"><span class="pre">self.body</span></code> 는 자바스크립트 객체를 참조하게 되고,
<code class="docutils literal"><span class="pre">self.body.x</span></code> 는 객체의 속성을 참조하게 된다.
속성을 변경하는 것이 <code class="docutils literal"><span class="pre">self.body</span></code> 가 참조하는 객체를 변경하지 않는다.</p>
<p>넷째로, 지향 방향 <code class="docutils literal"><span class="pre">orientation</span></code> 은 실제로 0에서 3 사이 값을 취하는 정수다.</p>
<p>그래서, 상기 네가지 재료를 함께 넣어서, 적절히 우회전하는 신형 로봇을 작성하게 된다.</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="k">class</span> <span class="nc">RepairedRobot</span><span class="p">(</span><span class="n">UsedRobot</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">turn_right</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="c"># save previous values to know from where to start drawing</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">_prev_orientation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">orientation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">_prev_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">_prev_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">y</span>

        <span class="c"># mimic two previous left turns for prior orientation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">_prev_orientation</span> <span class="o">+=</span> <span class="mi">2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">_prev_orientation</span> <span class="o">%=</span> <span class="mi">4</span>

        <span class="c"># do right turn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">orientation</span> <span class="o">+=</span> <span class="mi">3</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">orientation</span> <span class="o">%=</span> <span class="mi">4</span>

        <span class="c"># record the new state of the world only once!</span>
        <span class="n">RUR</span><span class="o">.</span><span class="n">rec</span><span class="o">.</span><span class="n">record_frame</span><span class="p">()</span>
</pre></div>
</div>
<p>시도해 보기!</p>
<p>그런데, 다양한 속성에 대해 어떤 명칭을 사용해야 되는지 추측하는 방법에 대해서 궁금증이 있다면,
읽어보면 방법을 찾게 될 것이다.</p>
</div>
<div class="section" id="id6">
<h2>6.5. 기름 누수 고치기<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>다음 코드를 시도해 본다:</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="n">r</span> <span class="o">=</span> <span class="n">UsedRobot</span><span class="p">()</span>

<span class="n">reeborg</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">_is_leaky</span> <span class="o">=</span> <span class="k">False</span>
<span class="n">reeborg</span><span class="o">.</span><span class="n">move</span><span class="p">()</span>
<span class="n">reeborg</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">_is_leaky</span> <span class="o">=</span> <span class="k">True</span>
<span class="n">reeborg</span><span class="o">.</span><span class="n">move</span><span class="p">()</span>
<span class="n">reeborg</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">_is_leaky</span> <span class="o">=</span> <span class="k">False</span>
<span class="n">reeborg</span><span class="o">.</span><span class="n">move</span><span class="p">()</span>
<span class="n">reeborg</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">_is_leaky</span> <span class="o">=</span> <span class="k">True</span>
<span class="n">reeborg</span><span class="o">.</span><span class="n">move</span><span class="p">()</span>
</pre></div>
</div>
<p>그래서, 기름이 새는 로봇을 고치는 방법에 대해서 상기 코드가 충분한 정보를 제공하고 있다.</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="k">class</span> <span class="nc">RepairedRobot</span><span class="p">(</span><span class="n">UsedRobot</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="n">tokens</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">leaky</span><span class="o">=</span><span class="k">False</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="n">orientation</span><span class="p">,</span> <span class="n">tokens</span><span class="o">=</span><span class="n">tokens</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">_is_leaky</span> <span class="o">=</span> <span class="n">leaky</span>

<span class="n">fixed</span> <span class="o">=</span> <span class="n">RepairedRobot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">leaky</span> <span class="o">=</span> <span class="n">RepairedRobot</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">leaky</span><span class="o">=</span><span class="k">True</span><span class="p">)</span>

<span class="n">fixed</span><span class="o">.</span><span class="n">move</span><span class="p">()</span>
<span class="n">leaky</span><span class="o">.</span><span class="n">move</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h2>6.6. 남쪽 지향하기<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>조약한 방식으로 리보그가 남쪽을 지향하고 있는지 아닌지를 판단할 수 있는 방법을 살펴봤다.
다음에 더 나은 방식이 있다:</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="k">class</span> <span class="nc">CompassNeedle</span><span class="p">(</span><span class="n">UsedRobot</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">is_facing_south</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">orientation</span> <span class="o">==</span> <span class="n">RUR</span><span class="o">.</span><span class="n">SOUTH</span>

<span class="n">reeborg</span> <span class="o">=</span> <span class="n">CompassNeedle</span><span class="p">()</span>
<span class="k">while</span> <span class="ow">not</span> <span class="n">reeborg</span><span class="o">.</span><span class="n">is_facing_south</span><span class="p">():</span>
    <span class="n">reeborg</span><span class="o">.</span><span class="n">turn_left</span><span class="p">()</span>
</pre></div>
</div>
<p>그렇게 해서, 이제 리보그를 고치는 방법을 살펴봤다.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">다음은 정말 호기심 많고, 알려지지 않는 것에 마추치기를 두려워하지 않는 학습자를 위한 것이다.</p>
</div>
</div>
<div class="section" id="id8">
<h2>6.7. 코드 탐색하기<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p>리보그 코드는 GitHub에 있다.
하지만, 저자가 일부 함수를 여러분을 대신해서 작성했기 때문에,
코드를 탐색하려고 GitHub에 갈 필요는 없다.
예를 들어, 다음과 같이 프로그램을 실행하면:</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="n">r</span> <span class="o">=</span> <span class="n">UsedRobot</span><span class="p">()</span>
<span class="n">inspect</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
</pre></div>
</div>
<p>Python/Brython이 이해되는 <code class="docutils literal"><span class="pre">inspect</span></code> 는 자바스크립트 함수로,
객체 메쏘드와 속성을 볼 수 있도록 작성했다.
지금 당장, 그다지 많은 것을 알려주지는 않는다.
상기 명령어를 실행할 때, 얻은 결과가 다음에 나와 있다:</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="n">__class__</span>
<span class="n">body</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">로봇 명칭으로 단일 문자 <code class="docutils literal"><span class="pre">r</span></code> 을 사용했다. 왜냐하면, 매우 짧은 프로그램으로
기술적인 명칭이 필요하지 않아서 그렇다.</p>
</div>
<p>메쏘드나 속성인지 알 수가 없다.
<code class="docutils literal"><span class="pre">__class__</span></code> 는 밑줄 문자 두개로 시작하고 끝난ㄷ;
파이썬 세계에서 고급 프로그래머를 위해서 <strong>대체로</strong> 예약된 내부 파이썬 코드를
표기하는 관례다. 다른 하나는 <code class="docutils literal"><span class="pre">body</span></code> 다.
그래서 <code class="docutils literal"><span class="pre">r.body</span></code> 가 <em>어떤 것</em> 인지 알게 된다.
다음 코드를 실행한다:</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="n">r</span> <span class="o">=</span> <span class="n">UsedRobot</span><span class="p">()</span>
<span class="n">inspect</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
</pre></div>
</div>
<p>상기 명령어를 실행하면 다음을 보게 된다:</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="n">x</span>
<span class="n">y</span>
<span class="n">objects</span>
<span class="n">orientation</span>
<span class="n">_is_leaky</span>
<span class="n">_prev_x</span>
<span class="n">_prev_y</span>
<span class="n">_prev_orientation</span>
</pre></div>
</div>
<p>의미를 이전 설명을 통해서 아마도 인식하게 될 것 같다.</p>
<p>어떤 메쏘드도 볼 수 없고, 속성만 볼 수 있음에 주목한다.
실제 메쏘드를 보기 위해서,
언어를 자바스크립트로 전환할 필요가 있다.
(리보그 세상 최상단에서 언어를 전환할 수 있다.)</p>
</div>
<div class="section" id="id9">
<h2>6.8. 자바스크립트 !??<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<p>다음 코드를 실행한 것을 기억하는가?</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="n">r</span> <span class="o">=</span> <span class="n">UsedRobot</span><span class="p">()</span>
<span class="n">inspect</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
</pre></div>
</div>
<p>자바스크립트로 상응하는 것을 수행한다.</p>
<p>리보그 세상 윈도우의 최상단에, <strong>Additional options</strong> 을 클릭하고,
파이썬 대신에 자바스크립트를 선택한다.
그리고 나서, 다음 코드를 실행한다:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">UsedRobot</span><span class="p">();</span>
<span class="nx">inspect</span><span class="p">(</span><span class="nx">r</span><span class="p">);</span>
</pre></div>
</div>
<p>다음에 코드를 실행할 때 출력결과가 나와 있다:</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="n">body</span>
<span class="n">at_goal</span><span class="p">()</span>
<span class="n">at_goal_orientation</span><span class="p">()</span>
<span class="n">build_wall</span><span class="p">()</span>
<span class="n">front_is_clear</span><span class="p">()</span>
<span class="n">has_token</span><span class="p">()</span>
<span class="n">is_facing_north</span><span class="p">()</span>
<span class="n">move</span><span class="p">()</span>
<span class="n">put</span><span class="p">()</span>
<span class="n">token_here</span><span class="p">()</span>
<span class="n">right_is_clear</span><span class="p">()</span>
<span class="n">object_here</span><span class="p">()</span>
<span class="n">take</span><span class="p">()</span>
<span class="n">turn_left</span><span class="p">()</span>
</pre></div>
</div>
<p>그래서, 이중 밑줄로 시작되고 끝나는 것은 아무것도 없다.
파이썬 코드에서처럼 <code class="docutils literal"><span class="pre">body</span></code> 가 보인다.
하지만, <code class="docutils literal"><span class="pre">at_goal()</span></code>, <code class="docutils literal"><span class="pre">move()</span></code> 와 많이 친숙한 메쏘드도 볼 수 있다.</p>
<p>이제, 코드를 자세히 살펴볼 준비가 되었다.</p>
<div class="topic">
<p class="topic-title first">직적 수행해보기!</p>
<p>다음 자바스크립트 코드를 실행해 보고, 출력된 결과를 살펴보라.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">UsedRobot</span><span class="p">();</span>
<span class="nx">view_source</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">turn_left</span><span class="p">);</span>
</pre></div>
</div>
<p>코드가 정확하게 위에 작성된 것과 같은지 확인한다.
<code class="docutils literal"><span class="pre">inspect</span></code> 대신에 <code class="docutils literal"><span class="pre">view_source</span></code> 를 사용한 것에 주목한다.
실행하면 밝혀지듯이, 이번 경우에는 전혀 도움이 되지 않는다.</p>
</div>
<p>출력된 결과는 다음과 같다.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">RUR</span><span class="p">.</span><span class="nx">control</span><span class="p">.</span><span class="nx">turn_left</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>다음 추측은 다음과 같이 실행하는 것이다.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">view_source</span><span class="p">(</span><span class="nx">RUR</span><span class="p">.</span><span class="nx">control</span><span class="p">.</span><span class="nx">turn_left</span><span class="p">);</span>
</pre></div>
</div>
<p>상기 코드를 수행한 뒤에, 다음을 보게 된다:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">function</span> <span class="p">(</span><span class="nx">robot</span><span class="p">){</span>
    <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
    <span class="nx">robot</span><span class="p">.</span><span class="nx">_prev_orientation</span> <span class="o">=</span> <span class="nx">robot</span><span class="p">.</span><span class="nx">orientation</span><span class="p">;</span>
    <span class="nx">robot</span><span class="p">.</span><span class="nx">_prev_x</span> <span class="o">=</span> <span class="nx">robot</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
    <span class="nx">robot</span><span class="p">.</span><span class="nx">_prev_y</span> <span class="o">=</span> <span class="nx">robot</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
    <span class="nx">robot</span><span class="p">.</span><span class="nx">orientation</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>  <span class="c1">// could have used &quot;++&quot; instead of &quot;+= 1&quot;</span>
    <span class="nx">robot</span><span class="p">.</span><span class="nx">orientation</span> <span class="o">%=</span> <span class="mi">4</span><span class="p">;</span>
    <span class="nx">RUR</span><span class="p">.</span><span class="nx">control</span><span class="p">.</span><span class="nx">sound_id</span> <span class="o">=</span> <span class="s2">&quot;#turn-sound&quot;</span><span class="p">;</span>
    <span class="nx">RUR</span><span class="p">.</span><span class="nx">rec</span><span class="p">.</span><span class="nx">record_frame</span><span class="p">(</span><span class="s2">&quot;debug&quot;</span><span class="p">,</span> <span class="s2">&quot;RUR.control.turn_left&quot;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>그래서, 상기 코드가 실제로 리보그가 좌회전하게 되는 코드다.
앞에서 언급했듯이,
다소 차이가 나는 것을 볼 수도 있다. 그래서, 스스로 직접 수행해 봐야만 된다.</p>
<p>이제, 소스코드를 찾아보지 않고도, 리보그 세상을 움직이는 비밀코드를 얻는 방법을 알게 되었다.</p>
</div>
<div class="section" id="move">
<h2>6.9. 한번 이동 <code class="docutils literal"><span class="pre">move()</span></code> 에 관해서<a class="headerlink" href="#move" title="Permalink to this headline">¶</a></h2>
<p>리보그 세상은 처음부터 다수 로봇을 다룰 수 있고, <strong>그리고</strong>
단지 로봇 한대로 단순한 프로그램을 초보자가 작성하기 쉽게 설계되었다.
로봇은 실제로 세상정보가 기술된 자바스크립트 배열(파이썬 리스트와 유사)에 포함되어 있고,
<code class="docutils literal"><span class="pre">move()</span></code> 같은 명령어는 해당 배열 0번째 요소를 참조한다.</p>
<p>빈 세상에서 시작할 때, 로봇 배열은 비어있다.
로봇을 생성하면, 첫번째로 0번 요소로, 로봇이 배열에 추가된다.
로봇이 두대인 있는 첫번째 예제에서,
<cite>move()`</cite> 명령어가 <code class="docutils literal"><span class="pre">reeborg.move()</span></code> 명령어와 동치가 되는 이유가 된다.</p>
</div>
</div>


          </div>
        </div>
      </div>  
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
             <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
             <a href="../contribute/index.html" title="Contribute!"
             >next</a> |</li>
        <li class="right" >
             <a href="advanced.html" title="5. 고급 프로그래밍"
             >previous</a> |</li>
        <li><a class="logo" href="../../index_en.html" class="fake_button">
              <img class="logo"  src="../_static/robot_e.png" alt="Logo"/>
              <span class="logo">Reeborg's World</span>
            </a></li>
        <li><a href="../index.html">Learn Python with Reeborg</a></li>
          <li> &raquo;<a href="index.html" >파이썬: 개요</a></li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright
          <a href="mailto:andre.roberge@gmail.com">André Roberge </a>
        
       - Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.3.
    </div>
  <script>
  $(document).ready(function() {
      $('.hint').children().hide();
      $('.hint p.admonition-title').show().css('cursor', 'pointer');
      $('.hint p.admonition-title').click( function() {$(this).siblings().show().css('cursor', 'auto');})
      $("a[href^='http']").attr('target','_blank');
  });
  </script>
  </body>
</html>