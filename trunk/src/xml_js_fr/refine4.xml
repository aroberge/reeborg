<nav>
<a class="fake_button blue-gradient" href="Javascript:void(0);" onClick="load_page('refine3')">Précédent</a>
<a class="fake_button blue-gradient" href="Javascript:void(0);" onClick="load_page('toc')">Table des matières</a>
<a class="fake_button blue-gradient" href="Javascript:void(0);" onClick="load_page('refine5')">Suivant</a>
</nav>
<h1>Refinements: part 4</h1>
<p>As you most likely found out, we were too hasty in asking Reeborg to move
forward after putting down a beeper. We need to check if there is a wall
preventing him from moving first. Here's a solution to the problem.</p>
<pre class="jscode">
dépose("jeton");
if ( !front_is_clear() ) {
    tourne_à_gauche();
}
avance();
while ( !token_here() ){
    if (right_is_clear()){
        turn_right();
        avance();
    } else if (front_is_clear()){
        avance();
    } else {
        tourne_à_gauche();
    }
}</pre>

<p>Test it now and see that it works. Can you imagine situations where it
might not work?</p>
<a class="left-link" href="Javascript:void(0);" onClick="load_page('refine3')">Précédent</a>
<a class="right-link" href="Javascript:void(0);" onClick="load_page('refine5')">Suivant</a>