<!doctype html>
<html>
<head>
	<title>test</title>
    <script src="brython.js"></script>
</head>
<body onload="brython(1)">

<pre id="output">
</pre>


<script type="text/python3">
import sys
from browser import doc, window

'''
def _write(data):
    doc["output"].innerHTML += str(data)
def _write_err(data):
    doc["output"].innerHTML += "<b style='color:red'>" + str(data) + "</b>"
sys.stdout.write = _write
sys.stderr.write = _write_err
'''
exec("print('a')")

def translate_python(src):
    print("entering translate_python", src)
    #src = "class UsedRobot(_UsedRobot): pass\n" + src
    exec(src)
    print("after exec")

# put "translate_python" in global Javascript namespace
window['translate_python'] = translate_python
translate_python("print('b')")


</script>

</body>
</html>