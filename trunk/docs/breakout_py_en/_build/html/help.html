<!DOCTYPE html>


<html>
  <head>
    <meta charset="utf-8"> 
    
    <title>5. Help &mdash; Breakout: making a game with Python</title>
    
    <link rel="stylesheet" href="_static/reeborg.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Breakout: making a game with Python" href="index.html" />
    <link rel="next" title="6. Stay in world: part 2" href="stay2.html" />
    <link rel="prev" title="4. Stay in world!" href="stay.html" /> 
  
  <script>
    // intelligent scrolling of the sidebar content
    // copied from the sphinx website
    $(window).scroll(function() {
    var sb = $('.sphinxsidebarwrapper');
    var win = $(window);
    var sbh = sb.height();
    var offset = $('.sphinxsidebar').position()['top'];
    var wintop = win.scrollTop();
    var winbot = wintop + win.innerHeight();
    var curtop = sb.position()['top'];
    var curbot = curtop + sbh;
    // does sidebar fit in window?
    if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
              sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
              sb.css('top', $u.min([winbot - sbh - offset - 20,
                            $(document).height() - sbh - 200]));
          }
        }
    });
    </script>
  
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
             <a href="stay2.html" title="6. Stay in world: part 2"
             accesskey="N">next</a></li>
        <li class="right" >
             <a href="stay.html" title="4. Stay in world!"
             accesskey="P">previous</a> |</li>
        <li><a class="logo" href="../../index_en.html" class="fake_button">
              <img class="logo"  src="_static/robot_e.png" alt="Logo"/>Reeborg's World
            </a></li>
        <li><a href="index.html">Breakout: making a game with Python</a></li> 
      </ul>
    </div>
  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
              <h3>Table Of Contents</h3>
              <ul>
<li><a class="reference internal" href="#">5. Help</a><ul>
<li><a class="reference internal" href="#writing-text">5.1. Writing text</a></li>
<li><a class="reference internal" href="#another-reminder">5.2. Another reminder</a></li>
<li><a class="reference internal" href="#a-better-name">5.3. A better name</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="stay.html"
                        title="previous chapter">4. Stay in world!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="stay2.html"
                        title="next chapter">6. Stay in world: part 2</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/help.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="help">
<h1>5. Help<a class="headerlink" href="#help" title="Permalink to this headline">¶</a></h1>
<p>Perhaps you are reading this after taking a pause for a few days
away from your computer and you are asking yourself
<em>&#8220;How do I get the circle to move again?&#8221;</em>.  Of course, you can
figure out by looking at the code in the Library, but this is an
unnecessary distraction.  Sometimes, when you are writing code,
it is useful to be able to focus entirely on what you see on
the screen without having to switch back and forth and lose
your train of thoughts.</p>
<p>Yes, I know, you are doing this by alternating between reading
this tutorial, going to the game page where you edit your code
and run it, come back to this tutorial, etc.  However, bear with
me.</p>
<p>Our goal is to fix the code so that the circle bounces exactly
at the edge of the canvas.  To see if it is working properly,
it is helpful to change the number of frames per second, to change
the radius of the circle, to change the increments <tt class="docutils literal"><span class="pre">dx</span></tt> and <tt class="docutils literal"><span class="pre">dy</span></tt>
by which the circle moves at each frame, etc., and run the code
multiple times using different values.  Here as a reminder is
how we control the code.</p>
<ul class="simple">
<li>We click on the run button to get the code working</li>
<li>Clicking on <tt class="docutils literal"><span class="pre">s</span></tt> starts the animation</li>
<li>Clicking on <tt class="docutils literal"><span class="pre">p</span></tt> pauses the animation</li>
<li>Clicking on <tt class="docutils literal"><span class="pre">r</span></tt> resumes the animation (after a pause)</li>
<li>Clicking on <tt class="docutils literal"><span class="pre">q</span></tt> quits altogether ** and is required before we can edit the code!**</li>
</ul>
<p>So, let&#8217;s give ourselves a gentle reminder of this so we do not forget...</p>
<div class="section" id="writing-text">
<h2>5.1. Writing text<a class="headerlink" href="#writing-text" title="Permalink to this headline">¶</a></h2>
<p>We can write text on the html canvas.  To do this, we must specify:</p>
<ul class="simple">
<li>A colour to use; if not, black will be used as the default</li>
<li>A font choice, specifying the size and the font family.</li>
<li>A string to write</li>
<li>A position on the canvas to write it.</li>
</ul>
<p>Here&#8217;s a sample code to do all this:</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="k">def</span> <span class="nf">write_help</span><span class="p">():</span>
    <span class="n">ctx</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="s">&quot;30px sans-serif&quot;</span>
    <span class="n">ctx</span><span class="o">.</span><span class="n">fillStyle</span> <span class="o">=</span> <span class="s">&quot;lightgrey&quot;</span>
    <span class="n">ctx</span><span class="o">.</span><span class="n">fillText</span><span class="p">(</span><span class="s">&quot;S to start the animation&quot;</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">ctx</span><span class="o">.</span><span class="n">fillText</span><span class="p">(</span><span class="s">&quot;P to pause the animation&quot;</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
    <span class="n">ctx</span><span class="o">.</span><span class="n">fillText</span><span class="p">(</span><span class="s">&quot;R to resume after a pause&quot;</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
    <span class="n">ctx</span><span class="o">.</span><span class="n">fillText</span><span class="p">(</span><span class="s">&quot;Q to quit: click BEFORE editing!&quot;</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">250</span><span class="p">)</span>
</pre></div>
</div>
<div class="topic">
<p class="topic-title first">Your turn!</p>
<p>Write the above code in the editor and call the function where
needed so that it is a constant reminder.  I also found it useful
to call <tt class="docutils literal"><span class="pre">clear_screen</span></tt> in <tt class="docutils literal"><span class="pre">animate</span></tt> (found in the Library)
whenever <tt class="docutils literal"><span class="pre">q</span></tt> was clicked and ended the animation.</p>
</div>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">Remember that you clear the screen each time you update
the animation; this includes any text already present.</p>
</div>
<p>As you work on your game, you may find other uses for writing text
on the canvas.  For example, perhaps you want to see how the value of
a certain variable changes: you can write it on the screen.
We will do this later with the value of <tt class="docutils literal"><span class="pre">fps</span></tt>.</p>
</div>
<div class="section" id="another-reminder">
<h2>5.2. Another reminder<a class="headerlink" href="#another-reminder" title="Permalink to this headline">¶</a></h2>
<p>As I worked on this tutorial and added some new functions
and keydown events, I found that the above reminder from <tt class="docutils literal"><span class="pre">write_help</span></tt>
was not enough.  So, I modified <tt class="docutils literal"><span class="pre">animate</span></tt> to include a reminder as
follows:</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="k">def</span> <span class="nf">animate</span><span class="p">(</span><span class="n">ev</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">pause</span><span class="p">,</span> <span class="n">frame_id</span>
<span class="hll">    <span class="n">remind</span> <span class="o">=</span> <span class="k">True</span>
</span>    <span class="k">if</span> <span class="n">ev</span><span class="o">.</span><span class="n">keyCode</span> <span class="o">==</span> <span class="mi">80</span><span class="p">:</span>  <span class="c"># p or P for Pause</span>
<span class="hll">        <span class="n">remind</span> <span class="o">=</span> <span class="k">False</span>
</span>        <span class="n">pause</span> <span class="o">=</span> <span class="k">True</span>
        <span class="k">if</span> <span class="n">frame_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="k">None</span><span class="p">:</span>
            <span class="n">clear_timeout</span><span class="p">(</span><span class="n">frame_id</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">ev</span><span class="o">.</span><span class="n">keyCode</span> <span class="o">==</span> <span class="mi">81</span><span class="p">:</span>  <span class="c"># q or Q  for Quit</span>
<span class="hll">        <span class="n">remind</span> <span class="o">=</span> <span class="k">False</span>
</span>        <span class="n">doc</span><span class="o">.</span><span class="n">unbind</span><span class="p">(</span><span class="s">&quot;keydown&quot;</span><span class="p">)</span>
        <span class="n">clear_screen</span><span class="p">()</span>
        <span class="n">pause</span> <span class="o">=</span> <span class="k">True</span>
        <span class="k">if</span> <span class="n">frame_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="k">None</span><span class="p">:</span>
            <span class="n">clear_timeout</span><span class="p">(</span><span class="n">frame_id</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">ev</span><span class="o">.</span><span class="n">keyCode</span> <span class="o">==</span> <span class="mi">82</span> <span class="ow">and</span> <span class="n">pause</span><span class="p">:</span>  <span class="c"># r or R for Resume</span>
<span class="hll">        <span class="n">remind</span> <span class="o">=</span> <span class="k">False</span>
</span>        <span class="n">pause</span> <span class="o">=</span> <span class="k">False</span>
        <span class="n">update</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">ev</span><span class="o">.</span><span class="n">keyCode</span> <span class="o">==</span> <span class="mi">83</span> <span class="ow">and</span> <span class="n">pause</span><span class="p">:</span>  <span class="c"># s or S for Start</span>
<span class="hll">        <span class="n">remind</span> <span class="o">=</span> <span class="k">False</span>
</span>        <span class="n">pause</span> <span class="o">=</span> <span class="k">False</span>
        <span class="n">start_animation</span><span class="p">()</span>
    <span class="n">ev</span><span class="o">.</span><span class="n">preventDefault</span><span class="p">()</span>
<span class="hll">    <span class="k">if</span> <span class="n">remind</span><span class="p">:</span>
</span><span class="hll">        <span class="n">notify</span><span class="p">(</span><span class="s">&quot;red&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
<p>If you press any key other than <tt class="docutils literal"><span class="pre">p</span></tt>, <tt class="docutils literal"><span class="pre">q</span></tt>, <tt class="docutils literal"><span class="pre">r</span></tt> or <tt class="docutils literal"><span class="pre">s</span></tt>,
you will see the effect of this reminder.</p>
</div>
<div class="section" id="a-better-name">
<h2>5.3. A better name<a class="headerlink" href="#a-better-name" title="Permalink to this headline">¶</a></h2>
<p>You should always be willing to review your code critically...</p>
<p>Initially, <tt class="docutils literal"><span class="pre">animate</span></tt> seemed to me to be the right name for the above function.
However, it is really just taking care of handling
key events. So, change its name to <tt class="docutils literal"><span class="pre">handle_keydown_events</span></tt>, which is a
more accurate name for it, and make
sure that your program still works.  (You will have to change
the name at two different places.)</p>
</div>
</div>


          </div>
        </div>
      </div>  
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
             <a href="stay2.html" title="6. Stay in world: part 2"
             >next</a></li>
        <li class="right" >
             <a href="stay.html" title="4. Stay in world!"
             >previous</a> |</li>
        <li><a class="logo" href="../../index_en.html" class="fake_button">
              <img class="logo"  src="_static/robot_e.png" alt="Logo"/>Reeborg's World
            </a></li>
        <li><a href="index.html">Breakout: making a game with Python</a></li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 
          <a href="mailto:andre.roberge@gmail.com">André Roberge </a>
        
       - Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  <script> 
  $(document).ready(function() {
      $('.hint').children().hide();
      $('.hint p.admonition-title').show().css('cursor', 'pointer');
      $('.hint p.admonition-title').click( function() {$(this).siblings().show().css('cursor', 'auto');})
  });
  </script>
  </body>
</html>