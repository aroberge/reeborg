<!DOCTYPE html>


<html>
  <head>
    <meta charset="utf-8"> 
    
    <title>9. Moving Paddle &mdash; Breakout: making a game with Python</title>
    
    <link rel="stylesheet" href="_static/reeborg.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Breakout: making a game with Python" href="index.html" />
    <link rel="next" title="10. Keeping the paddle in" href="paddle3.html" />
    <link rel="prev" title="8. Paddle" href="paddle.html" /> 
  
  <script>
    // intelligent scrolling of the sidebar content
    // copied from the sphinx website
    $(window).scroll(function() {
    var sb = $('.sphinxsidebarwrapper');
    var win = $(window);
    var sbh = sb.height();
    var offset = $('.sphinxsidebar').position()['top'];
    var wintop = win.scrollTop();
    var winbot = wintop + win.innerHeight();
    var curtop = sb.position()['top'];
    var curbot = curtop + sbh;
    // does sidebar fit in window?
    if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
              sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
              sb.css('top', $u.min([winbot - sbh - offset - 20,
                            $(document).height() - sbh - 200]));
          }
        }
    });
    </script>
  
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
             <a href="paddle3.html" title="10. Keeping the paddle in"
             accesskey="N">next</a></li>
        <li class="right" >
             <a href="paddle.html" title="8. Paddle"
             accesskey="P">previous</a> |</li>
        <li><a class="logo" href="../../index_en.html" class="fake_button">
              <img class="logo"  src="_static/robot_e.png" alt="Logo"/>Reeborg's World
            </a></li>
        <li><a href="index.html">Breakout: making a game with Python</a></li> 
      </ul>
    </div>
  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
              <h3>Table Of Contents</h3>
              <ul>
<li><a class="reference internal" href="#">9. Moving Paddle</a><ul>
<li><a class="reference internal" href="#id1">9.1. Moving paddle?</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="paddle.html"
                        title="previous chapter">8. Paddle</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="paddle3.html"
                        title="next chapter">10. Keeping the paddle in</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/paddle2.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="moving-paddle">
<h1>9. Moving Paddle<a class="headerlink" href="#moving-paddle" title="Permalink to this headline">Â¶</a></h1>
<p>After thinking about the function names, I realized that a better, more descriptive name
for <tt class="docutils literal"><span class="pre">animate()</span></tt> would be <tt class="docutils literal"><span class="pre">handle_keydown_events()</span></tt>.  Initially, the name <tt class="docutils literal"><span class="pre">animate()</span></tt>
seemed to make sense but as I looked at the code more and thought about the next steps,
the new name seemed to make more sense.</p>
<p>We want to move the paddle.  Eventually, we will control it using the mouse, but
it might be easier to do it first using the keyboard since we already know how to
deal with keyboard events.</p>
<p>Just like we introduced a <tt class="docutils literal"><span class="pre">Ball</span></tt> class, we should do the same and create a
<tt class="docutils literal"><span class="pre">Paddle</span></tt> class.</p>
<div class="topic">
<p class="topic-title first">Your turn</p>
<p>Replace the <tt class="docutils literal"><span class="pre">draw_paddle</span></tt> function a method call <tt class="docutils literal"><span class="pre">paddle.draw()</span></tt> with
a proper <tt class="docutils literal"><span class="pre">paddle</span></tt> object defined.</p>
</div>
<p>When you have done the required change, click on the hint below to see the code
I have written for this.</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<div class="last highlight-py3"><div class="highlight"><pre><span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">_id</span>
    <span class="n">clear_screen</span><span class="p">()</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">move</span><span class="p">()</span>
    <span class="n">stay_in_world</span><span class="p">()</span>
    <span class="n">write_help</span><span class="p">()</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="hll">    <span class="n">paddle</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</span>    <span class="k">if</span> <span class="n">pause</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">_id</span> <span class="o">=</span> <span class="n">set_timeout</span><span class="p">(</span><span class="n">update</span><span class="p">,</span> <span class="n">tbf</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Paddle</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&quot;blue&quot;</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mi">7</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dx</span> <span class="o">=</span> <span class="n">dx</span>

    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">fillStyle</span> <span class="o">=</span> <span class="s">&quot;blue&quot;</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">fillRect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dx</span>


<span class="n">paddle</span> <span class="o">=</span> <span class="n">Paddle</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">canvas</span><span class="o">.</span><span class="n">height</span><span class="o">-</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">It is a good idea to review the code written regularly and to see
if things still make sense, or if there isn&#8217;t a better, more consistent
way to organize the code.</p>
</div>
<p>Looking at my code (and you should do the
same after reading this), I noticed that I initialized a <tt class="docutils literal"><span class="pre">Ball</span></tt> instance
inside the function <tt class="docutils literal"><span class="pre">start_animation()</span></tt> and a <tt class="docutils literal"><span class="pre">Paddle</span></tt> instance
outside this function.  After looking further at <tt class="docutils literal"><span class="pre">start_animation()</span></tt>
I concluded that it made little sense to keep it. So, I removed it and
replace the call inside <tt class="docutils literal"><span class="pre">handle_key_events</span></tt> by a call to <tt class="docutils literal"><span class="pre">update()</span></tt>.
I also moved the <tt class="docutils literal"><span class="pre">Paddle</span></tt> class definition to the Library.</p>
<p>Because I&#8217;ve mentioned <strong>many</strong> changes, I thought it would be useful to
give you an exact copy of the code I have so you can compare with yours.
First, the code in the Library:</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">browser</span> <span class="k">import</span> <span class="n">doc</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="k">import</span> <span class="n">pi</span>
<span class="kn">from</span> <span class="nn">browser.timer</span> <span class="k">import</span> <span class="n">set_timeout</span><span class="p">,</span> <span class="n">clear_timeout</span>

<span class="n">canvas</span> <span class="o">=</span> <span class="n">doc</span><span class="p">[</span><span class="s">&quot;game-canvas&quot;</span><span class="p">]</span>
<span class="n">ctx</span> <span class="o">=</span> <span class="n">canvas</span><span class="o">.</span><span class="n">getContext</span><span class="p">(</span><span class="s">&#39;2d&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Ball</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">radius</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dx</span> <span class="o">=</span> <span class="n">dx</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dy</span> <span class="o">=</span> <span class="n">dy</span>

    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">fillStyle</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">beginPath</span><span class="p">()</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">arc</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">pi</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">closePath</span><span class="p">()</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">fill</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dx</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dy</span>

<span class="k">class</span> <span class="nc">Paddle</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&quot;blue&quot;</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mi">7</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dx</span> <span class="o">=</span> <span class="n">dx</span>

    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">fillStyle</span> <span class="o">=</span> <span class="s">&quot;blue&quot;</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">fillRect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dx</span>

<span class="k">def</span> <span class="nf">clear_screen</span><span class="p">():</span>
    <span class="n">ctx</span><span class="o">.</span><span class="n">clearRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">canvas</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">canvas</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">write_help</span><span class="p">():</span>
    <span class="n">ctx</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="s">&quot;30px sans-serif&quot;</span>
    <span class="n">ctx</span><span class="o">.</span><span class="n">fillStyle</span> <span class="o">=</span> <span class="s">&quot;lightgrey&quot;</span>
    <span class="n">ctx</span><span class="o">.</span><span class="n">fillText</span><span class="p">(</span><span class="s">&quot;S to start the animation&quot;</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">ctx</span><span class="o">.</span><span class="n">fillText</span><span class="p">(</span><span class="s">&quot;P to pause the animation&quot;</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
    <span class="n">ctx</span><span class="o">.</span><span class="n">fillText</span><span class="p">(</span><span class="s">&quot;R to resume after a pause&quot;</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
    <span class="n">ctx</span><span class="o">.</span><span class="n">fillText</span><span class="p">(</span><span class="s">&quot;Q to quit: click BEFORE editing!&quot;</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">250</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">stay_in_world</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">ball</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">ball</span><span class="o">.</span><span class="n">radius</span> <span class="ow">and</span> <span class="n">ball</span><span class="o">.</span><span class="n">dx</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ball</span><span class="o">.</span><span class="n">dx</span> <span class="o">=</span> <span class="o">-</span><span class="n">ball</span><span class="o">.</span><span class="n">dx</span>
        <span class="n">ball</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">ball</span><span class="o">.</span><span class="n">radius</span> <span class="o">-</span> <span class="n">ball</span><span class="o">.</span><span class="n">x</span>
    <span class="k">elif</span> <span class="n">ball</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">canvas</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">ball</span><span class="o">.</span><span class="n">radius</span> <span class="ow">and</span> <span class="n">ball</span><span class="o">.</span><span class="n">dx</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ball</span><span class="o">.</span><span class="n">dx</span> <span class="o">=</span> <span class="o">-</span><span class="n">ball</span><span class="o">.</span><span class="n">dx</span>
        <span class="n">ball</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">canvas</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="n">ball</span><span class="o">.</span><span class="n">radius</span><span class="p">)</span> <span class="o">-</span> <span class="n">ball</span><span class="o">.</span><span class="n">x</span>
    <span class="k">if</span> <span class="n">ball</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">ball</span><span class="o">.</span><span class="n">radius</span> <span class="ow">and</span> <span class="n">ball</span><span class="o">.</span><span class="n">dy</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ball</span><span class="o">.</span><span class="n">dy</span> <span class="o">=</span> <span class="o">-</span><span class="n">ball</span><span class="o">.</span><span class="n">dy</span>
        <span class="n">ball</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">ball</span><span class="o">.</span><span class="n">radius</span> <span class="o">-</span> <span class="n">ball</span><span class="o">.</span><span class="n">y</span>
    <span class="k">elif</span> <span class="n">ball</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">canvas</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="n">ball</span><span class="o">.</span><span class="n">radius</span> <span class="ow">and</span> <span class="n">ball</span><span class="o">.</span><span class="n">dy</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ball</span><span class="o">.</span><span class="n">dy</span> <span class="o">=</span> <span class="o">-</span><span class="n">ball</span><span class="o">.</span><span class="n">dy</span>
        <span class="n">ball</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">canvas</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="n">ball</span><span class="o">.</span><span class="n">radius</span><span class="p">)</span> <span class="o">-</span> <span class="n">ball</span><span class="o">.</span><span class="n">y</span>


<span class="k">def</span> <span class="nf">handle_keydown_events</span><span class="p">(</span><span class="n">ev</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">pause</span><span class="p">,</span> <span class="n">_id</span>
    <span class="k">if</span> <span class="n">ev</span><span class="o">.</span><span class="n">keyCode</span> <span class="o">==</span> <span class="mi">80</span><span class="p">:</span>  <span class="c"># p or P for Pause</span>
        <span class="n">pause</span> <span class="o">=</span> <span class="k">True</span>
        <span class="n">clear_timeout</span><span class="p">(</span><span class="n">_id</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">ev</span><span class="o">.</span><span class="n">keyCode</span> <span class="o">==</span> <span class="mi">81</span><span class="p">:</span>  <span class="c"># q or Q  for Quit</span>
        <span class="n">doc</span><span class="o">.</span><span class="n">unbind</span><span class="p">(</span><span class="s">&quot;keydown&quot;</span><span class="p">)</span>
        <span class="n">clear_screen</span><span class="p">()</span>
        <span class="n">pause</span> <span class="o">=</span> <span class="k">True</span>
        <span class="n">clear_timeout</span><span class="p">(</span><span class="n">_id</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">ev</span><span class="o">.</span><span class="n">keyCode</span> <span class="o">==</span> <span class="mi">82</span> <span class="ow">and</span> <span class="n">pause</span><span class="p">:</span> <span class="c"># r or R for Resume</span>
        <span class="n">pause</span> <span class="o">=</span> <span class="k">False</span>
        <span class="n">update</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">ev</span><span class="o">.</span><span class="n">keyCode</span> <span class="o">==</span> <span class="mi">83</span> <span class="ow">and</span> <span class="n">pause</span><span class="p">:</span> <span class="c"># s or S for Start</span>
        <span class="n">pause</span> <span class="o">=</span> <span class="k">False</span>
        <span class="n">update</span><span class="p">()</span>
    <span class="n">ev</span><span class="o">.</span><span class="n">preventDefault</span><span class="p">()</span>
</pre></div>
</div>
<p>and the code in the Editor:</p>
<div class="highlight-py3"><div class="highlight"><pre><span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">_id</span>
    <span class="n">clear_screen</span><span class="p">()</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">move</span><span class="p">()</span>
    <span class="n">stay_in_world</span><span class="p">()</span>
    <span class="n">write_help</span><span class="p">()</span>
    <span class="n">ball</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">paddle</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">pause</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">_id</span> <span class="o">=</span> <span class="n">set_timeout</span><span class="p">(</span><span class="n">update</span><span class="p">,</span> <span class="n">tbf</span><span class="p">)</span>


<span class="c">#---------------</span>

<span class="n">pause</span> <span class="o">=</span> <span class="k">True</span>
<span class="n">fps</span> <span class="o">=</span> <span class="mi">20</span>          <span class="c"># frames per second</span>
<span class="n">tbf</span> <span class="o">=</span> <span class="mi">1000</span><span class="o">/</span><span class="n">fps</span>   <span class="c"># time between frames in ms</span>

<span class="n">ball</span> <span class="o">=</span> <span class="n">Ball</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">paddle</span> <span class="o">=</span> <span class="n">Paddle</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">canvas</span><span class="o">.</span><span class="n">height</span><span class="o">-</span><span class="mi">20</span><span class="p">)</span>
<span class="n">clear_screen</span><span class="p">()</span>
<span class="n">write_help</span><span class="p">()</span>
</pre></div>
</div>
<div class="topic">
<p class="topic-title first">Your turn</p>
<p>After making the various changes, there are a few lines of code that can be deleted.
Can you find them?  (The answer can be found by clicking below.)</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">The keyboard events <tt class="docutils literal"><span class="pre">r</span></tt> and <tt class="docutils literal"><span class="pre">s</span></tt> identical. We should remove one of them
and update the help message.</p>
</div>
</div>
<div class="section" id="id1">
<h2>9.1. Moving paddle?<a class="headerlink" href="#id1" title="Permalink to this headline">Â¶</a></h2>
<p>The title of this rather long tutorial page is &#8220;Moving Paddle&#8221; ... and we still have
not made it move!</p>
<div class="topic">
<p class="topic-title first">Your turn!</p>
<p>Bind the left and right-arrow keys (you have seen their code earlier in this tutorial)
so that they make the paddle move left and right.</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">The absolute value function <tt class="docutils literal"><span class="pre">abs(n)</span></tt> returns <tt class="docutils literal"><span class="pre">n</span></tt> if n is positive and <tt class="docutils literal"><span class="pre">-n</span></tt>
if n was initially negative.  Thus, to ensure that a particular value is
positive, we can use <tt class="docutils literal"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">abs(n)</span></tt>.  Similarly, if we want a particular
value to be negative, we can use <tt class="docutils literal"><span class="pre">n</span> <span class="pre">=</span> <span class="pre">-abs(n)</span></tt>.</p>
</div>
</div>
<p>Once your code is working, try changing the value of <tt class="docutils literal"><span class="pre">fps</span></tt> to 60 and notice how much
smoother the ball is moving compared with the paddle.   (Perhaps there is no difference
for you as you may have found a better way to make the paddle move than the one I used
and will describe in the next page of this tutorial.)</p>
</div>
</div>


          </div>
        </div>
      </div>  
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
             <a href="paddle3.html" title="10. Keeping the paddle in"
             >next</a></li>
        <li class="right" >
             <a href="paddle.html" title="8. Paddle"
             >previous</a> |</li>
        <li><a class="logo" href="../../index_en.html" class="fake_button">
              <img class="logo"  src="_static/robot_e.png" alt="Logo"/>Reeborg's World
            </a></li>
        <li><a href="index.html">Breakout: making a game with Python</a></li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 
          <a href="mailto:andre.roberge@gmail.com">AndrÃ© Roberge </a>
        
       - Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  <script> 
  $(document).ready(function() {
      $('.hint').children().hide();
      $('.hint p.admonition-title').show().css('cursor', 'pointer');
      $('.hint p.admonition-title').click( function() {$(this).siblings().show().css('cursor', 'auto');})
  });
  </script>
  </body>
</html>